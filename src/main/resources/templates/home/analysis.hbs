<!DOCTYPE HTML>
<!--
	Retrospect by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Rating Analysis</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>	
  
  	<style>
  #banner {
	padding: 5em 5 1em 0;
	background-color: #1E2832;
	color: rgba(255, 255, 255, 0.75);
	background-attachment: fixed;
	background-image: url(images/analysis2.jpg),
		url(../../images/education.jpg);
	background-size: cover;
	text-align: center;
	color: #07090c;
}
#header > h1 a {
    font-size: .7em;
}
	.reviewcolumns {
    	-webkit-column-count: 2; /* Chrome, Safari, Opera */
    	-moz-column-count: 2; /* Firefox */
    	column-count: 2;
	}
	</style>
	
	
	
	
	 <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
 

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart', 'bar']});

      // Set a callback to run when the Google Visualization API is loaded.
      
      google.charts.setOnLoadCallback(draw_avg_prof_rating_by_year);
      
      
      google.charts.setOnLoadCallback(draw_TEST);
      
        google.charts.setOnLoadCallback(draw_TEST_2);
      
      
      google.charts.setOnLoadCallback(draw_percentage_of_ratings_by_year);
      
      
       google.charts.setOnLoadCallback(draw_dep_rating);
       
       
       google.charts.setOnLoadCallback(draw_appointment_rate);
       
       
        google.charts.setOnLoadCallback(draw_app_per_tutor);
        

        google.charts.setOnLoadCallback(draw_dep_avg);

function draw_avg_prof_rating_by_year() {

 var data = new google.visualization.DataTable();
        data.addColumn('string', 'Rating');
        data.addColumn('number', 'Average Ratings');
        data.addRows([
       
        ['Freshman', {{freshman_avg_rating}}],
        ['Sophomore', {{sophomore_avg_rating}}],
        ['Junior', {{junior_avg_rating}}],
        ['Senior', {{senior_avg_rating}}]]);

      var options = {
        title: 'Average Professor Rating by Year',
        chartArea: {width: '50%'},
        
         'width':600,
         'height':300,
         colors: ['#3B3EAC'],
        
        hAxis: {
       title: 'Average Student Ratings',
          minValue: 0
        },
        vAxis: {
          title: 'Year in school'
        }
      };

      var chart = new google.visualization.BarChart(document.getElementById('chart_div'));

      chart.draw(data, options);
    }
    
    
    //STUFF IS HERE
    
    function draw_TEST() {

 var data = new google.visualization.DataTable();
         var data = new google.visualization.DataTable();
      data.addColumn('timeofday', 'Time of Day');
      data.addColumn('number', 'Motivation Level');
      data.addColumn('number', 'Energy Level');

      data.addRows([
        [{v: [8, 0, 0], f: '8 am'}, 1, .25],
        [{v: [9, 0, 0], f: '9 am'}, 2, .5],
        [{v: [10, 0, 0], f:'10 am'}, 3, 1],
        [{v: [11, 0, 0], f: '11 am'}, 4, 2.25],
        [{v: [12, 0, 0], f: '12 pm'}, 5, 2.25],
        [{v: [13, 0, 0], f: '1 pm'}, 6, 3],
        [{v: [14, 0, 0], f: '2 pm'}, 7, 4],
        [{v: [15, 0, 0], f: '3 pm'}, 8, 5.25],
        [{v: [16, 0, 0], f: '4 pm'}, 9, 7.5],
        [{v: [17, 0, 0], f: '5 pm'}, 10, 10],
      ]);

      var options = {
        title: 'Motivation and Energy Level Throughout the Day',
        isStacked: true,
        hAxis: {
          title: 'Time of Day',
          format: 'h:mm a',
          viewWindow: {
            min: [7, 30, 0],
            max: [17, 30, 0]
          }
        },
        vAxis: {
          title: 'Rating (scale of 1-10)'
        }
      };

      var chart = new google.visualization.ColumnChart(document.getElementById('chart_TEST'));
      chart.draw(data, options);
    }
    //MORE STUFF
    
    function draw_TEST_2() {
    var data = new google.visualization.DataTable();
      data.addColumn('timeofday', 'Time of Day');
      data.addColumn('number', 'Motivation Level');
      data.addColumn({type: 'string', role: 'annotation'});
      data.addColumn('number', 'Energy Level');
      data.addColumn({type: 'string', role: 'annotation'});

      data.addRows([
        [{v: [8, 0, 0], f: '8 am'},   1, '1',  .25, '.2'],
        [{v: [9, 0, 0], f: '9 am'},   2, '2',   .5, '.5'],
        [{v: [10, 0, 0], f:'10 am'},  3, '3',    1,  '1'],
        [{v: [11, 0, 0], f: '11 am'}, 4, '4', 2.25,  '2'],
        [{v: [12, 0, 0], f: '12 pm'}, 5, '5', 2.25,  '2'],
        [{v: [13, 0, 0], f: '1 pm'},  6, '6',    3,  '3'],
        [{v: [14, 0, 0], f: '2 pm'},  7, '7', 3.25,  '3'],
        [{v: [15, 0, 0], f: '3 pm'},  8, '8',    5,  '5'],
        [{v: [16, 0, 0], f: '4 pm'},  9, '9',  6.5,  '6'],
        [{v: [17, 0, 0], f: '5 pm'}, 10, '10',  10, '10'],
      ]);

      var options = {
        title: 'Motivation and Energy Level Throughout the Day',
        annotations: {
          alwaysOutside: true,
          textStyle: {
            fontSize: 14,
            color: '#000',
            auraColor: 'none'
          }
        },
        hAxis: {
          title: 'Time of Day',
          format: 'h:mm a',
          viewWindow: {
            min: [7, 30, 0],
            max: [17, 30, 0]
          }
        },
        vAxis: {
          title: 'Rating (scale of 1-10)'
        }
      };

      var chart = new google.visualization.ColumnChart(document.getElementById('chart_TEST_2'));
      chart.draw(data, options);
      }

    
     function draw_percentage_of_ratings_by_year() {
     
       var data = new google.visualization.DataTable();
        data.addColumn('string', 'Ratings');
        data.addColumn('number', '# of ratings completed');
        data.addRows([
          ['Freshman', {{freshman_count}}],
          ['Sophomore', {{sophomore_count}}],
          ['Junior', {{junior_count}}],
          ['Senior', {{senior_count}}],
           ]);

        var options = {
          title: 'Rating By Year Breakdown',
          pieHole: 0.4,
         'width':700,
         'height':300,
        };

        var chart = new google.visualization.PieChart(document.getElementById('chart_overall_prof'));
        chart.draw(data, options);
      }
    
    <!-- The rating of professor by department bellow-->
    
    function draw_dep_rating() {


       var data = new google.visualization.DataTable();
        data.addColumn('string', 'Ratings');
        data.addColumn('number', '# of ratings');
        data.addRows([
        
        ['Computer Science', 4],
        ['Biology', 10],
        ['Chemistry', 6],
        ['Physics', 2],
      
      ]);

      var options = {
        title: 'Professor rating - by departments',
        chartArea: {width: '50%'},
        
         'width':600,
         'height':300,
               colors: ['gold'],
        
        hAxis: {
       title: '# Of Completed Ratings',
          minValue: 0
        },
        vAxis: {
          title: 'Department'
        }
      };

      var chart = new google.visualization.BarChart(document.getElementById('chart_dep'));

      chart.draw(data, options);
    }
   
      
     function draw_dep_avg() {
     
      var data = new google.visualization.DataTable();
        data.addColumn('string', 'Department');
        data.addColumn('number', 'Average Rating');
        data.addRows([
       
          ["Computer Science", 4.4],
          ["Biology", 4],
          ["Chemistry", 4.5],
          ["Physics", 2],
        ]);

        var options = {
          title: 'Average rating per department',
          width: 500,
           'height':300,
            
          legend: { position: 'none' },
          
          axes: {
            x: {
              0: { side: 'bottom', label: 'Departments'} // bottom x-axis.
            }
          },
          bar: { groupWidth: "20%" }
        };

        var chart = new google.charts.Bar(document.getElementById('chart_dep_avg'));
        // Convert the Classic options to Material options.
        chart.draw(data, google.charts.Bar.convertOptions(options));
      };
    
      function draw_appointment_rate() {

 var data = new google.visualization.DataTable();
        data.addColumn('string', 'Rating');
        data.addColumn('number', '# of appointments');
        data.addRows([

        ['Approved', {{approved}}],
        ['Denied', {{denied}}],
        ['Past', {{past}}],
        ['Missed by Tutor', {{missed}}],  
      ]);

      var options = {
        title: 'Status of Tutor Appointments',
        chartArea: {width: '50%'},
        
         'width':600,
         'height':300,
           colors: ['#00FF00'],         
        
        hAxis: {
       title: 'Status Ratings',
          minValue: 0
        },
        vAxis: {
          title: 'Appointment Status'
        }
      };

      var chart = new google.visualization.BarChart(document.getElementById('chart_app_rate'));

      chart.draw(data, options);
    }
    
     function draw_app_per_tutor() {
     
      var data = new google.visualization.DataTable();
        data.addColumn('string', 'Task');
        data.addColumn('number', 'Appointments Per Tutor');
        data.addRows([
     
       
          ['Joel Sandoval', 11],
          ['Mike Webb',      9],
          ['Frank Rooks',  6],
          ['Becca Thomas', 7],
          ['Raza Mohammed',  3]
        ]);

        var options = {
          title: 'Percentage of appointments per tutor',
          pieHole: 0.4,
         'width':700,
         'height':300,
        };

        var chart = new google.visualization.PieChart(document.getElementById('chart_app_tutor'));
        chart.draw(data, options);
      }
    <!-- ////////////////////keep the methods below for reference when i get the controller working -->
<!--
      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function draw_objective() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Rating');
        data.addColumn('number', 'Reviews');
        data.addRows([
          ['Computer Science', 3],
          ['Mathematics', 1],
          ['Business', 4],
          ['Chemistry', 3],
          ['Biology', 2]
        ]);

        var options = {'title':'Course objectives were met: 2.6/5',
                       'width':600,
                       'height':300,
                       colors: ['#3B3EAC'],
                         hAxis: {
       title: 'Average Student Ratings',
          minValue: 0
        },
        vAxis: {
          title: 'Year in school'
        }};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('chart_objective'));
        chart.draw(data, options);
      }
       -->
    </script>
	
	
	</head>
	<body class="landing">
	

	<!-- Header -->
	<header id="header" class="skel-layers-fixed">
		<h1>
			<a href="/rateandreview">RateAndReview</a>
		</h1>
		<a href="#nav">Menu</a>
		
	</header>

			<!-- Nav -->
			<nav id="nav" class="visible">
				<ul class="links">
					<li><a href="/rateandreview">Home</a></li>
					
					{{#if user_admin}}
						<li><a href="/rateandreview/admindashboard">My Dashboard</a></li>
					{{/if}}
					{{#if user_professor}}
						<li><a href="/rateandreview/facultydashboard">My Dashboard</a></li>
					{{/if}}
					{{#if user_tutor}}
						<li><a href="/rateandreview/tutordashboard">My Dashboard</a></li>
					{{/if}}
					{{#if user_student}}
						<li><a href="/rateandreview/studentdashboard">My Dashboard</a></li>
					{{/if}}
					
					{{#if user_null}}
						<li><a href="/rateandreview/signin">Log In</a></li>
						<li><a href="/rateandreview/register">Register</a></li>
						<li><a href="/rateandreview/activation">Activate Account</a></li>
						<li><a href="/rateandreview/accountrecovery">Forgot Password?</a></li>
					{{/if}}
					
						<li><a href="/rateandreview/teacher">Browse Professors</a></li>
					
					{{#unless user_admin}}
						<li><a href="/rateandreview/contactus">Contact Us</a></li>
					{{/unless}}
						<li><a href="/rateandreview/aboutus">About Us</a></li>
						<li><a href="/rateandreview/faq">FAQ</a></li>
					
					{{#unless user_null}}
						<li><a href="/rateandreview/logout">Log Out</a></li>
					{{/unless}}
				</ul>
			</nav>
			
			
			
			<!-- Banner -->
	<section id="banner">

		<h2>
			<i class="fa fa-bar-chart" aria-hidden="true"></i>
		</h2>

		<!-- <i class="icon fa-diamond"></i> -->
		<h1>Analytics</h1>
		<p>Derived from the site utilization</p>
		
	</section>
			
			
</div>
			
		<!-- Main -->
			<section id="main" class="wrapper">
					<div class="leftcol"> 
		

					<!-- Text -->
						<section>
						
						
							<header class="major special">
									
								<!--
									<select style="max-width:15%;" name="course_name" id="course_name" onchange="this.options[this.selectedIndex].value && (window.location = this.options[this.selectedIndex].value);">
										{{#each unique_courses}}
										<option value="http://localhost:3000/professor/{{prof_id}}/{{this}}">{{this}}</option>
										<!-- <span class="glyphicon glyphicon-triangle-bottom"></span> -->
										{{/each}}
										
									</select>
									-->
									<table>
									  <tr>
									    <th><h3>Professor Rating - By Year</h3></th>
									   
									  </tr>
									  
									  
									  <tr>
									    <td><div id="chart_div"></div></td>
									     <td><div id ="chart_overall_prof"></div></td>
									     </tr> <tr>
									   
									  
									      <td><div id ="chart_TEST"></div></td>
									      <td><div id ="chart_TEST_2"></div></td>
									  </tr>
									  <tr>
									    <th><h3>Professor Rating - BY Department</h3></th>
									  
									  </tr>
									  	
									  	
									  <tr>
									  	<td><div id="chart_dep" ></div> </td>
									  	
									  	<td><div id="chart_dep_avg" ></div> </td>
									  </tr><tr>
									  	<th><h3>Tutor Statistics</h3></th>
									  </tr><tr>
									  	<td><div id="chart_app_rate" ></div></td>
									
										<td><div id="chart_app_tutor" ></div></td>
									  </tr>
									 </table>
									
							</header>
							
							<!-- <a href="/studentdashboard" class="button alt">Return To Student Dashboard</a> -->
							 
							<!-- <span class="stars">{{overall}}</span> -->
								
							<hr />
							</section>
					
				<!--	 -->
								
			<div class="reviewcolumns" align="center">

		
		<!--	<ul> <div id="chart_objective" ></div> </ul> 
			
		-->	
				</div>	
			

		<!-- Scripts -->
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
 			<script src="assets/js/jquery.min.js"></script>
 			<script src="assets/js/ratingjquery.js"></script>
	</body>
</html>
